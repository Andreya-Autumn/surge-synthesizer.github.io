196e811 : Move shared surge code to a library (#3200) - Paul